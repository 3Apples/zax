{"code":"!function(e){function t(t){for(var a,o,l=t[0],u=t[1],c=t[2],f=0,d=[];f<l.length;f++)o=l[f],n[o]&&d.push(n[o][0]),n[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);for(i&&i(t);d.length;)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,l=1;l<r.length;l++){var u=r[l];0!==n[u]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={1:0},s=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},o.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"\";var l=window.webpackJsonp=window.webpackJsonp||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var i=u;s.push([119,0]),r()}({114:function(e,t,r){\"use strict\";(function(a){var n,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}void 0===(n=function(e){var t=r(1);r(7);return function(e){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r);var a=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return a.state={value:null},a.errorSpan=t.createRef(),a.formGroup=t.createRef(),a.callback=a.callback.bind(a),a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t.Component),s(r,[{key:\"callback\",value:function(e){var t=this,r=e.target.value;if(!r.match(this.props.validate))return a(this.errorSpan.current).html(this.props.errorMessage),a(this.errorSpan.current).css(\"display\",\"inline-block\"),a(this.formGroup.current).removeClass(\"has-success\"),a(this.formGroup.current).hasClass(\"has-error\")||a(this.formGroup.current).addClass(\"has-error\"),void this.setState({value:null},function(){t.props.onChange({key:t.props._key,value:r})});a(this.errorSpan.current).html(\"\"),a(this.errorSpan.current).css(\"display\",\"none\"),a(this.formGroup.current).removeClass(\"has-error\"),a(this.formGroup.current).hasClass(\"has-success\")||a(this.formGroup.current).addClass(\"has-success\"),this.setState({value:r},function(){t.props.onChange({key:t.props._key,value:r})})}},{key:\"render\",value:function(){var e;if(!this.props._key)throw\"Input needs _key\";if(!this.props.onChange)throw\"Input needs onChange callback\";if(!this.props.errorMessage)throw\"Input needs an errorMessage\";if(!this.props.validate)throw\"Input needs validate regular expression\";return t.createElement(\"div\",{className:\"form-group\",ref:this.formGroup},t.createElement(\"input\",(o(e={type:\"text\"},\"type\",this.props.type),o(e,\"disabled\",this.props.disabled),o(e,\"value\",this.props.value),o(e,\"className\",\"form-control\"),o(e,\"placeholder\",this.props.placeholder),o(e,\"onChange\",this.callback),e)),t.createElement(\"span\",{className:\"text-danger\",style:{display:\"none\"},ref:this.errorSpan}))}}]),r}()}.call(t,r,t,e))||(e.exports=n)}).call(this,r(6))},115:function(e,t,r){\"use strict\";(function(a){var n,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();void 0===(n=function(e){var t=r(6),a=(r(2),r(1));r(7),r(2),r(9);return function(e){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={match:\"initial\",password:null,value_1:null,value_2:null},t.input_1=a.createRef(),t.input_2=a.createRef(),t.check_1=t.check_1.bind(t),t.check_2=t.check_2.bind(t),t.getPassword=t.getPassword.bind(t),t}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,a.Component),s(r,[{key:\"hasValue\",value:function(e){return e&&e.length}},{key:\"getPassword\",value:function(){return\"matched\"===this.state.match?this.state.password:null}},{key:\"checkState\",value:function(){return this.state.value_1!=this.state.value_2?(this.setState({match:\"mismatch\"}),t(this.input_1.current).closest(\".form-group\").removeClass(\"has-success\"),t(this.input_2.current).closest(\".form-group\").removeClass(\"has-success\"),t(this.input_1.current).closest(\".form-group\").addClass(\"has-error\"),t(this.input_2.current).closest(\".form-group\").addClass(\"has-error\"),this.props.onChange&&this.props.onChange(null)):this.state.value_1&&this.state.value_1.length?void this.setState({match:\"matched\",password:this.state.value_1},function(){return t(this.input_1.current).closest(\".form-group\").removeClass(\"has-error\"),t(this.input_2.current).closest(\".form-group\").removeClass(\"has-error\"),t(this.input_1.current).closest(\".form-group\").addClass(\"has-success\"),t(this.input_2.current).closest(\".form-group\").addClass(\"has-success\"),this.props.onChange&&this.props.onChange(this.state.password)}):(this.setState({match:\"initial\"}),t(this.input_1.current).closest(\".form-group\").removeClass(\"has-success\"),t(this.input_2.current).closest(\".form-group\").removeClass(\"has-success\"),t(this.input_1.current).closest(\".form-group\").addClass(\"has-error\"),t(this.input_2.current).closest(\".form-group\").addClass(\"has-error\"),this.props.onChange&&this.props.onChange(null))}},{key:\"check_1\",value:function(e){var t=this,r=e.target.value;this.setState({value_1:r},function(){t.checkState()})}},{key:\"check_2\",value:function(e){var t=this,r=e.target.value;this.setState({value_2:r},function(){t.checkState()})}},{key:\"render\",value:function(){return a.createElement(\"div\",{className:\"row\"},a.createElement(\"div\",{className:\"col-md-6 col-sm-6 form-group\"},a.createElement(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Password\",onChange:this.check_1,ref:this.input_1})),a.createElement(\"div\",{className:\"col-md-6 col-sm-6 form-group\"},a.createElement(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Repeat Password\",onChange:this.check_2,ref:this.input_2})))}}]),r}()}.call(t,r,t,e))||(e.exports=n)}).call(this,r(6))},116:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=c(r(6)),s=(c(r(2)),c(r(1))),o=(c(r(7)),c(r(9))),l=c(r(115)),u=c(r(114));function c(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={error:null,id:null,firstName:null,lastName:null,password:null,email:null,org:null},r.errXHR=s.default.createRef(),r.okXHR=s.default.createRef(),r.submitBtn=s.default.createRef(),r.check=r.check.bind(r),r.submit=r.submit.bind(r),r.getPassword=r.getPassword.bind(r),r}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),a(t,[{key:\"hasValue\",value:function(e){return e&&e.length}},{key:\"toggleSubmit\",value:function(){var e=this.state;this.hasValue(e.id)&&this.hasValue(e.firstName)&&this.hasValue(e.lastName)&&this.hasValue(e.password)&&this.hasValue(e.email)&&this.hasValue(e.org)?(0,n.default)(this.submitBtn.current).removeClass(\"disabled\"):(0,n.default)(this.submitBtn.current).hasClass(\"disabled\")||(0,n.default)(this.submitBtn.current).addClass(\"disabled\")}},{key:\"check\",value:function(e){var t=this,r=e.key,a=e.value,n={};n[r]=a,this.setState(n,function(){return t.toggleSubmit()})}},{key:\"getPassword\",value:function(e){var t=this;this.setState({password:e},function(){return t.toggleSubmit()})}},{key:\"submit\",value:function(e){var t=this;e.preventDefault();e.target.value;(0,n.default)(this.submitBtn.current).addClass(\"disabled\"),(0,n.default)(this.okXHR.current).css(\"display\",\"none\"),(0,n.default)(this.errXHR.current).css(\"display\",\"none\"),o.default.post(\"/vc-admin/user/add\",this.state).then(function(){return o.default.post(\"/vc-admin/user/passwd/\",{id:t.state.id,password:t.state.password})}).then(function(){if((0,n.default)(t.submitBtn.current).removeClass(\"disabled\"),(0,n.default)(t.okXHR.current).html('user \"'+t.state.firstName+\" \"+t.state.lastName+'\" created ok'),(0,n.default)(t.okXHR.current).css(\"display\",\"block\"),t.props.callback)return t.props.callback(null,t.state)}).fail(function(e){console.error(\"error :\"+e),(0,n.default)(t.submitBtn.current).removeClass(\"disabled\"),(0,n.default)(t.errXHR.current).html(e),(0,n.default)(t.errXHR.current).css(\"display\",\"block\")})}},{key:\"render\",value:function(){return s.default.createElement(\"div\",{className:\"row\"},s.default.createElement(\"div\",{className:\"col-md-12 col-sm-12 col-xs-12\"},s.default.createElement(\"div\",{className:\"x_panel\"},s.default.createElement(\"div\",{className:\"x_content\"},s.default.createElement(\"h4\",null,\"Add a new User\"),s.default.createElement(\"br\",null)),s.default.createElement(\"div\",{className:\"x_content\"},s.default.createElement(\"form\",null,s.default.createElement(\"div\",{className:\"row\"},s.default.createElement(\"div\",{className:\"col-md-4 col-sm-4\"},s.default.createElement(u.default,{_key:\"id\",type:\"text\",placeholder:\"Preferred user id\",onChange:this.check,validate:new RegExp(/^[a-zA-Z_0-9]+$/g),errorMessage:\"only alphanumeric characters allowed\"})),s.default.createElement(\"div\",{className:\"col-md-4 col-sm-4\"},s.default.createElement(u.default,{_key:\"firstName\",type:\"text\",placeholder:\"First name\",onChange:this.check,validate:new RegExp(/^[a-zA-Z]+$/g),errorMessage:\"only alphabets allowed\"})),s.default.createElement(\"div\",{className:\"col-md-4 col-sm-4\"},s.default.createElement(u.default,{_key:\"lastName\",type:\"text\",placeholder:\"Last name\",onChange:this.check,validate:new RegExp(/^[a-zA-Z]+$/g),errorMessage:\"only alphabets allowed\"}))),s.default.createElement(\"div\",{className:\"row\"},s.default.createElement(\"div\",{className:\"col-md-4 col-sm-4\"},s.default.createElement(u.default,{_key:\"email\",type:\"text\",placeholder:\"Email\",onChange:this.check,validate:new RegExp(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/g),errorMessage:\"invalid email\"})),s.default.createElement(\"div\",{className:\"col-md-4 col-sm-4\"},s.default.createElement(u.default,{_key:\"org\",type:\"text\",placeholder:\"Organization\",onChange:this.check,validate:new RegExp(/.*/g),errorMessage:\"invalid organization name\"}))),s.default.createElement(\"div\",{className:\"row\"},s.default.createElement(\"div\",{className:\"col-md-8 col-sm-8\"},s.default.createElement(l.default,{onChange:this.getPassword})),s.default.createElement(\"div\",{className:\"col-md-4 col-sm-4 form-group\"},s.default.createElement(\"div\",null,s.default.createElement(\"button\",{type:\"button\",className:\"btn btn-primary disabled\",ref:this.submitBtn,onClick:this.submit},\"Add !\")))),s.default.createElement(\"div\",{className:\"row\"},s.default.createElement(\"span\",{className:\"text-danger col-md-12\",id:\"xhr-error\",style:{display:\"none\"},ref:this.errXHR}),s.default.createElement(\"span\",{className:\"text-success col-md-12\",id:\"xhr-error\",style:{display:\"none\"},ref:this.okXHR})))))))}}]),t}();t.default=i},117:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=(u(r(6)),u(r(2))),s=u(r(1)),o=(u(r(7)),u(r(17))),l=u(r(9));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={error:null,loadRender:!1,items:[]},r.update_list=r.update_list.bind(r),r}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),a(t,[{key:\"componentDidMount\",value:function(){this.update_list()}},{key:\"update_list\",value:function(){var e=this;l.default.get(\"/vc-admin/user/list\").then(function(t){e.setState({loadRender:!0,items:t})},function(t){e.setState({loadRender:!0,error:t})})}},{key:\"render\",value:function(){var e=[{Header:\"\",id:\"select\",Cell:s.default.createElement(\"input\",{type:\"checkbox\"}),width:30},{Header:\"Name\",id:\"FullName\",accessor:function(e){return e.firstName+\" \"+e.lastName}},{Header:\"Id\",id:\"ID\",accessor:function(e){return e.id.split(\":\")[0]}},{Header:\"Email\",accessor:\"email\"},{Header:\"Added by\",id:\"AddedBy\",accessor:function(e){return e.createdBy.replace(/:/g,\"/\")}},{Header:\"Added on\",id:\"AddedOn\",accessor:function(e){return(0,n.default)(e.createdTs).format(\"DD MMM YYYY\")}}];return s.default.createElement(o.default,{minRows:1,data:this.state.items,columns:e,style:{width:\"100%\"}})}}]),t}();t.default=c},118:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=u(r(1)),s=(u(r(7)),r(10)),o=u(r(117)),l=u(r(116));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:\"render\",value:function(){return n.default.createElement(\"div\",{className:\"row\"},n.default.createElement(\"div\",{className:\"col-md-12 col-sm-12 col-xs-12\"},n.default.createElement(\"div\",{className:\"x_panel\"},n.default.createElement(\"div\",{className:\"x_content\"},n.default.createElement(\"span\",{className:\"fa fa-plus\"},\"Â \"),n.default.createElement(s.Link,{to:\"/vc-admin/user/add\"},\"Add a new User\"))),n.default.createElement(\"div\",{className:\"x_panel\"},n.default.createElement(\"div\",{className:\"x_content\"},n.default.createElement(\"h4\",null,\"User List\"),n.default.createElement(o.default,{style:{width:\"100%\"}})))))}}]),t}();t.default=function(){return n.default.createElement(\"main\",null,n.default.createElement(s.Switch,null,n.default.createElement(s.Route,{exact:!0,path:\"/vc-admin/user/\",component:c}),n.default.createElement(s.Route,{path:\"/vc-admin/user/add\",component:l.default})))}},119:function(e,t,r){\"use strict\";r(6),u(r(107)),u(r(106));var a=u(r(105)),n=u(r(1)),s=u(r(7)),o=r(10),l=u(r(118));function u(e){return e&&e.__esModule?e:{default:e}}(0,a.default)(function(){s.default.render(n.default.createElement(o.BrowserRouter,null,n.default.createElement(l.default,null)),document.getElementById(\"main\"))})}});","extractedComments":[]}