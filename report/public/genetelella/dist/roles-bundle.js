!function(e){function t(t){for(var a,o,s=t[0],c=t[1],i=t[2],d=0,f=[];d<s.length;d++)o=s[d],r[o]&&f.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(u&&u(t);f.length;)f.shift()();return n.push.apply(n,i||[]),l()}function l(){for(var e,t=0;t<n.length;t++){for(var l=n[t],a=!0,s=1;s<l.length;s++){var c=l[s];0!==r[c]&&(a=!1)}a&&(n.splice(t--,1),e=o(o.s=l[0]))}return e}var a={},r={1:0},n=[];function o(t){if(a[t])return a[t].exports;var l=a[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,o),l.l=!0,l.exports}o.m=e,o.c=a,o.d=function(e,t,l){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:l})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var u=c;n.push([82,0]),l()}({36:function(e,t,l){var a=l(77);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};l(16)(a,r);a.locals&&(e.exports=a.locals)},37:function(e,t,l){var a=l(78);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};l(16)(a,r);a.locals&&(e.exports=a.locals)},38:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var l=0;l<t.length;l++){var a=t[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,l,a){return l&&e(t.prototype,l),a&&e(t,a),t}}(),r=(i(l(2)),i(l(6)),i(l(1))),n=(i(l(5)),i(l(22))),o=i(l(31)),s=i(l(39)),c=i(l(24));function i(e){return e&&e.__esModule?e:{default:e}}l(37),l(36);var u={org:{scope:null,add:{allowed:!1},edit:{allowed:!1},remove:{allowed:!1},view:{allowed:!1}},presentations:{scope:null,add:{allowed:!1},edit:{allowed:!1},remove:{allowed:!1},view:{allowed:!1}},users:{scope:null,add:{allowed:!1},edit:{allowed:!1},remove:{allowed:!1},view:{allowed:!1}},roles:{scope:null,add:{allowed:!1},edit:{allowed:!1},remove:{allowed:!1},view:{allowed:!1}}},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.role?l.state={role:l.checkRole(e.role),allRolesChecked:!1}:l.state={role:{name:"",perms:u}},l.check=l.check.bind(l),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"checkRole",value:function(e){return e.perms||(e.perms=u),e.perms.org||(e.perms.org=u.org),e.perms.presentations||(e.perms.presentations=u.presentations),e.perms.users||(e.perms.users=u.users),e.perms.flags||(e.perms.flags={admin3a:!1}),e.perms.roles||(e.perms.roles=u.roles),e}},{key:"check",value:function(e){var t=e.key,l=e.value,a=e.values;this.setPermsState(t,l,a)}},{key:"setPermsState",value:function(e,t,l){var a,r=this,n=this.state.role,o=n.perms;switch(e){case"name":n.name=t;break;case"scope/org":o.org.scope||(o.org.scope={}),"self"===t?o.org.scope._id=":self={orgId}":"all"===t?o.org.scope._id="*":o.org.scope=null;break;case"scope/presentations":o.presentations.scope||(o.presentations.scope={}),"self"===t?(o.presentations.scope.createdBy=":self={id}",o.presentations.scope.org="*"):"org-ref"===t?(o.presentations.scope.createdBy="*",o.presentations.scope.org=":ref={org._id}"):o.presentations.scope=null;break;case"scope/users":o.users.scope||(o.users.scope={}),"self"===t?(o.users.scope.id=":self={id}",o.users.scope.orgId="*"):"org-ref"===t?(o.users.scope.id="*",o.users.scope.orgId=":ref={org._id}"):o.users.scope=null;break;case"scope/roles":o.roles.scope||(o.roles.scope={}),t&&t.allRoles&&t.allRoles.checked?o.roles.scope._id="*":l&&Array.isArray(l)&&l.length>0?o.roles.scope._id=l.map(function(e){return e.value}):o.roles.scope=null;break;case"verb/org":case"verb/presentations":case"verb/users":o[a=e.replace(/verb\//g,"")].add={allowed:t.add.checked},o[a].edit={allowed:t.edit.checked},o[a].remove={allowed:t.remove.checked},o[a].view={allowed:t.view.checked};break;case"verb/roles":o[a=e.replace(/verb\//g,"")].view={allowed:t.view.checked};break;case"flags/admin3a":o.flags.admin3a=t.admin3a.checked}this.setState({role:n},function(){r.props.callback(r.state.role)})}},{key:"render",value:function(){this.state;var e,t,l,a,i=this.state.role&&this.state.role.perms&&this.state.role.perms.org||{};e={none:!i.scope||!i.scope._id,all:!(!i.scope||"*"!=i.scope._id),self:!(!i.scope||":self={orgId}"!=i.scope._id),add:!(!i.add||!i.add.allowed),edit:!(!i.edit||!i.edit.allowed),remove:!(!i.remove||!i.remove.allowed),view:!(!i.view||!i.view.allowed)};var u=this.state.role&&this.state.role.perms&&this.state.role.perms.presentations||{};t={none:!u.scope||!(u.scope.org||u.scope.createdBy),orgRef:!(!u.scope||":ref={org._id}"!=u.scope.org),self:!(!u.scope||":self={id}"!=u.scope.createdBy),add:!(!u.add||!u.add.allowed),edit:!(!u.edit||!u.edit.allowed),remove:!(!u.remove||!u.remove.allowed),view:!(!u.view||!u.view.allowed)};var d=this.state.role&&this.state.role.perms&&this.state.role.perms.users;l={none:!d.scope||!(d.scope.orgId||d.scope.id),orgRef:!(!d.scope||":ref={org._id}"!=d.scope.orgId),self:!(!d.scope||":self={id}"!=d.scope.id),add:!(!d.add||!d.add.allowed),edit:!(!d.edit||!d.edit.allowed),remove:!(!d.remove||!d.remove.allowed),view:!(!d.view||!d.view.allowed)};var f=this.state.role&&this.state.role.perms&&this.state.role.perms.flags,m={admin3a:f&&f.admin3a||!1},p=this.state.role&&this.state.role.perms&&this.state.role.perms.roles;a={view:!(!p.view||!p.view.allowed),allRoles:!(!p.scope||"*"!=p.scope._id)};var v=!this.props.readOnly&&!a.allRoles;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},r.default.createElement(n.default,{_key:"name",type:"text",disabled:!!this.props.readOnly,placeholder:"Role Name",onChange:this.check,validate:new RegExp(/^[a-zA-Z0-9-_ ]+$/g),value:this.state.role.name,errorMessage:"only alphanumeric characters allowed"}))),r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},r.default.createElement("div",{className:"perm-group"},r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},r.default.createElement("h4",null,"Flags"))),r.default.createElement("div",{className:"row perm-line"},r.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},r.default.createElement(o.default,{onChange:this.check,_key:"flags/admin3a",readOnly:this.props.readOnly,values:[{value:"admin3a",label:"Admin 3Apples",checked:m.admin3a}]})))))),r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},r.default.createElement("div",{className:"perm-group"},r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},r.default.createElement("h4",null,"Organizations"))),r.default.createElement("div",{className:"row perm-line"},r.default.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1"},r.default.createElement("label",null,"Scope")),r.default.createElement("div",{className:"col-md-11 col-sm-11 col-xs-11"},r.default.createElement(s.default,{onChange:this.check,_key:"scope/org",readOnly:this.props.readOnly,values:[{value:"none",label:"None",checked:e.none},{value:"self",label:"Self",checked:e.self},{value:"all",label:"All",checked:e.all}]}))),r.default.createElement("div",{className:"row perm-line"},r.default.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1"},r.default.createElement("label",null,"Verb")),r.default.createElement("div",{className:"col-md-11 col-sm-11 col-xs-11"},r.default.createElement(o.default,{onChange:this.check,_key:"verb/org",readOnly:this.props.readOnly,values:[{value:"add",label:"Add",checked:e.add},{value:"edit",label:"Edit",checked:e.edit},{value:"remove",label:"Remove",checked:e.remove},{value:"view",label:"View",checked:e.view}]})))))),r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},r.default.createElement("div",{className:"perm-group"},r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},r.default.createElement("h4",null,"Presentations"))),r.default.createElement("div",{className:"row perm-line"},r.default.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1"},r.default.createElement("label",null,"Scope")),r.default.createElement("div",{className:"col-md-11 col-sm-11 col-xs-11"},r.default.createElement(s.default,{onChange:this.check,_key:"scope/presentations",readOnly:this.props.readOnly,values:[{value:"none",label:"None",checked:t.none},{value:"self",label:"Created by self",checked:t.self},{value:"org-ref",label:"Organization Scope",checked:t.orgRef}]}))),r.default.createElement("div",{className:"row perm-line"},r.default.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1"},r.default.createElement("label",null,"Verb")),r.default.createElement("div",{className:"col-md-11 col-sm-11 col-xs-11"},r.default.createElement(o.default,{onChange:this.check,_key:"verb/presentations",readOnly:this.props.readOnly,values:[{value:"add",label:"Add",checked:t.add},{value:"edit",label:"Edit",checked:t.edit},{value:"remove",label:"Remove",checked:t.remove},{value:"view",label:"View",checked:t.view}]})))))),r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},r.default.createElement("div",{className:"perm-group"},r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},r.default.createElement("h4",null,"Users"))),r.default.createElement("div",{className:"row perm-line"},r.default.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1"},r.default.createElement("label",null,"Scope")),r.default.createElement("div",{className:"col-md-9 col-sm-9 col-xs-9"},r.default.createElement(s.default,{onChange:this.check,_key:"scope/users",readOnly:this.props.readOnly,values:[{value:"none",label:"None",checked:l.none},{value:"self",label:"Self",checked:l.self},{value:"org-ref",label:"Organization Scope",checked:l.orgRef}]}))),r.default.createElement("div",{className:"row perm-line"},r.default.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1"},r.default.createElement("label",null,"Verb")),r.default.createElement("div",{className:"col-md-11 col-sm-11 col-xs-11"},r.default.createElement(o.default,{onChange:this.check,_key:"verb/users",readOnly:this.props.readOnly,values:[{value:"add",label:"Add",checked:l.add},{value:"edit",label:"Edit",checked:l.edit},{value:"remove",label:"Remove",checked:l.remove},{value:"view",label:"View",checked:l.view}]})))))),r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},r.default.createElement("div",{className:"perm-group"},r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},r.default.createElement("h4",null,"Roles"))),r.default.createElement("div",{className:"row perm-line"},r.default.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1"},r.default.createElement("label",null,"Scope")),r.default.createElement("div",{className:"col-md-2 col-sm-2 col-xs-2"},r.default.createElement(o.default,{onChange:this.check,_key:"scope/roles",readOnly:this.props.readOnly,values:[{value:"allRoles",label:"All Roles",checked:a.allRoles}]})),r.default.createElement("div",{className:"col-md-8 col-sm-8 col-xs-8"},r.default.createElement(c.default,{value:this.state.role.perms.roles.scope?this.state.role.perms.roles.scope._id:null,isMulti:!0,disabled:!v,_key:"scope/roles",placeholder:"Role(s)",onChange:this.check,url:"/vc-admin/roles/list",mapper:function(e){return{label:e.name,value:e._id}}}))),r.default.createElement("div",{className:"row perm-line"},r.default.createElement("div",{className:"col-md-1 col-sm-1 col-xs-1"},r.default.createElement("label",null,"Verb")),r.default.createElement("div",{className:"col-md-11 col-sm-11 col-xs-11"},r.default.createElement(o.default,{onChange:this.check,_key:"verb/roles",readOnly:this.props.readOnly,values:[{value:"view",label:"View",checked:a.view}]})))))),r.default.createElement("div",{className:"clearfix"}))}}]),t}();t.default=d},39:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var l=0;l<t.length;l++){var a=t[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,l,a){return l&&e(t.prototype,l),a&&e(t,a),t}}(),n=l(1),o=(a=n)&&a.__esModule?a:{default:a};l(50);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(!e._key)throw"_key needed";if(!e.onChange)throw"onChange needed";return l.state={value:null},l.callback=l.callback.bind(l),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"callback",value:function(e){var t=this,l=e.target.value;this.setState({value:l},function(){t.props.readOnly||t.props.onChange({key:t.props._key,value:t.state.value})})}},{key:"render",value:function(){var e=this;return this.props.values.length?this.props.values.map(function(t){return o.default.createElement("div",{key:t.value,className:"pretty p-default p-round p-fill"},o.default.createElement("input",{type:"radio",name:e.props._key,value:t.value,onChange:e.callback,checked:t.checked}),e.props.readOnly?o.default.createElement("div",{className:"state p-primary",key:"pug:0:0"},o.default.createElement("label",null,t.label)):o.default.createElement("div",{className:"state p-danger",key:"pug:1:0"},o.default.createElement("label",null,t.label)))}):null}}]),t}();t.default=s},75:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var l=0;l<t.length;l++){var a=t[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,l,a){return l&&e(t.prototype,l),a&&e(t,a),t}}(),r=(d(l(2)),d(l(6))),n=d(l(1)),o=l(7),s=d(l(5)),c=d(l(11)),i=d(l(52)),u=d(l(38));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.state={error:null,role:null},l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:"componentDidMount",value:function(){this.getDetails()}},{key:"getDetails",value:function(){var e=this;s.default.get("/vc-admin/roles/detail/"+this.props.match.params.role_id).then(function(t){e.setState({role:t})},function(t){e.setState({error:t})})}},{key:"dummyCallback",value:function(){}},{key:"render",value:function(){return this.state.role?n.default.createElement("div",{className:"row"},n.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},n.default.createElement("div",{className:"x_panel"},n.default.createElement("div",{className:"x_title"},n.default.createElement("h2",{className:"text-center"},this.state.role.name),n.default.createElement("ul",{className:"nav navbar-right panel_toolbox"},n.default.createElement("li",null,n.default.createElement(o.Link,{to:"/vc-admin/roles/edit/page/"+this.state.role._id},n.default.createElement("span",{className:"fa fa-pencil"})))),n.default.createElement("div",{className:"clearfix"})),n.default.createElement("div",{className:"x_content"},n.default.createElement("div",{className:"row"},n.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},n.default.createElement("table",{className:"table table-condensed table-striped table-bordered"},n.default.createElement("tbody",null,n.default.createElement("tr",null,n.default.createElement("td",null,"Id"),n.default.createElement("td",null,[this.state.role._id," "].join(""))),n.default.createElement("tr",null,n.default.createElement("td",null,"Name"),n.default.createElement("td",null,[this.state.role.name," "].join(""))),n.default.createElement("tr",null,n.default.createElement("td",null,"Created By"),n.default.createElement("td",null,n.default.createElement(c.default,{Id:this.state.role.createdBy,profile:"User",noHyperLink:!0}))),n.default.createElement("tr",null,n.default.createElement("td",null,"Created On"),n.default.createElement("td",null,[(0,r.default)(this.state.role.createdTs).format("YYYY MM DD hh:mm a")," "].join(""))))))),n.default.createElement("div",{className:"row"},n.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},n.default.createElement("h4",null,"Details"))),n.default.createElement(u.default,{role:this.state.role,callback:this.state.dummyCallback,readOnly:!0})))),n.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},n.default.createElement("div",{className:"x_panel"},n.default.createElement(i.default,{obj:this.state.role,title:"Structure"})),n.default.createElement("div",{className:"clearfix"}))):n.default.createElement("span",null,"No data yet")}}]),t}();t.default=f},76:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var l=0;l<t.length;l++){var a=t[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,l,a){return l&&e(t.prototype,l),a&&e(t,a),t}}(),r=(s(l(2)),s(l(6)),s(l(1))),n=s(l(5)),o=(s(l(22)),s(l(31)),s(l(39)),s(l(38)));function s(e){return e&&e.__esModule?e:{default:e}}l(37),l(36);var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.state={loading:"init",loadingErr:null,xhrStatus:"init",errorString:null,submitEnabled:!1,role:null},l.check=l.check.bind(l),l.submit=l.submit.bind(l),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"hasValue",value:function(e){return e&&e.length}},{key:"toggleSubmit",value:function(){this.hasValue(this.state.role.name)?this.setState({submitEnabled:!0}):this.setState({submitEnabled:!1})}},{key:"check",value:function(e){this.setState({role:e,xhrStatus:"init",loadingErr:""},this.toggleSubmit)}},{key:"componentDidMount",value:function(){var e=this,t=this;this.setState({loading:"loading",loadingErr:null},function(){n.default.get("/vc-admin/roles/detail/"+e.props.match.params.role_id).then(function(e){t.setState({loading:"done",role:e,submitEnabled:!0})}).fail(function(e){t.setState({loading:"error",loadingErr:e,role:null})})})}},{key:"submit",value:function(e){e.preventDefault();var t=this;this.state.submitEnabled&&this.setState({submitEnabled:!1,xhrStatus:"submitting",errorString:null},function(){var e=this,l=this.state.role;n.default.post("/vc-admin/roles/edit/"+l._id,l).then(function(){if(t.setState({submitEnabled:!0,xhrStatus:"success",errorString:null}),e.props.callback)return e.props.callback(null,e.state)}).fail(function(e){t.setState({submitEnabled:!0,xhrStatus:"error",errorString:e})})})}},{key:"render",value:function(){return r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-lg-10 col-md-12 col-sm-12 col-xs-12"},r.default.createElement("div",{className:"x_panel"},r.default.createElement("div",{className:"x_content"},r.default.createElement("h4",null,"Edit Role"),"loading"===this.state.loading?r.default.createElement("p",{key:"pug:0:0"},r.default.createElement("span",{className:"fa fa-spinner fa-spin"}),"  Loading details ..."):void 0,this.state.loadingErr?r.default.createElement("p",{className:"text-danger",key:"pug:2:0"},this.state.loadingErr):void 0,"done"===this.state.loading?[r.default.createElement(o.default,{callback:this.check,role:this.state.role,key:"pug:4:0"}),this.state.submitEnabled?r.default.createElement("button",{onClick:this.submit,className:"btn btn-info",key:"pug:4:1:0:0"},"Submit"):r.default.createElement("button",{disabled:!0,className:"btn btn-info",key:"pug:4:2:1:0"},"Submit"),"submitting"===this.state.xhrStatus?[r.default.createElement("span",{className:"fa fa-spinner fa-spin",key:"pug:4:3:2:0"}),r.default.createElement("span",{key:"pug:4:3:2:1"},"  Submitting request ...")]:void 0,"success"===this.state.xhrStatus?r.default.createElement("div",{className:"text-success",key:"pug:4:5:4:0"},r.default.createElement("span",null,"Role  ",r.default.createElement("b",null,this.state.role.name)),r.default.createElement("span",null,"  updated ok.")):void 0,this.state.errorString?r.default.createElement("div",{className:"text-danger",key:"pug:4:7:6:0"},r.default.createElement("span",null,this.state.errorString)):void 0]:void 0))))}}]),t}();t.default=c},77:function(e,t,l){(e.exports=l(17)(!1)).push([e.i,".perm-group {\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  padding: 0 15px;\n  padding-bottom: 15px;\n  margin-bottom: 15px;\n}\n.perm-group h4 {\n  font-weight: 200;\n  font-size: 22px;\n}\n.perm-line {\n  padding: 15px;\n  border-top: 4px solid white;\n  background-color: rgba(0, 0, 0, 0.05);\n}\n.perm-line > label {\n  width: 100px;\n}\n.pretty {\n  min-width: 50px;\n}\n",""])},78:function(e,t,l){(e.exports=l(17)(!1)).push([e.i,".bordered {\n  border: 1px solid #ccc;\n}\n.rounded {\n  border-radius: 4px;\n}\n.side-padding {\n  padding: 0 15px;\n}\n.bottom-padding {\n  padding-bottom: 15px;\n}\n.bg-gray-light {\n  background-color: #eeeeee;\n}\n",""])},79:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var l=0;l<t.length;l++){var a=t[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,l,a){return l&&e(t.prototype,l),a&&e(t,a),t}}(),r=(s(l(2)),s(l(6)),s(l(1))),n=s(l(5)),o=(s(l(22)),s(l(31)),s(l(39)),s(l(38)));function s(e){return e&&e.__esModule?e:{default:e}}l(37),l(36);var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.state={xhrStatus:"init",errorString:null,submitEnabled:!1,role:{name:"",perms:{org:{scope:{_id:null},add:{allowed:!1},edit:{allowed:!1},remove:{allowed:!1},view:{allowed:!1}},presentations:{scope:{org:null,createdBy:null},add:{allowed:!1},edit:{allowed:!1},remove:{allowed:!1},view:{allowed:!1}},users:{scope:{orgId:null},add:{allowed:!1},edit:{allowed:!1},remove:{allowed:!1},view:{allowed:!1}},roles:{scope:{_id:null},add:{allowed:!1},edit:{allowed:!1},remove:{allowed:!1},view:{allowed:!1}}}}},l.check=l.check.bind(l),l.submit=l.submit.bind(l),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"hasValue",value:function(e){return e&&e.length}},{key:"toggleSubmit",value:function(){this.hasValue(this.state.role.name)?this.setState({submitEnabled:!0}):this.setState({submitEnabled:!1})}},{key:"check",value:function(e){this.setState({role:e},this.toggleSubmit)}},{key:"submit",value:function(e){e.preventDefault();var t=this;this.state.submitEnabled&&this.setState({submitEnabled:!1,xhrStatus:"submitting",errorString:null},function(){var e=this;n.default.post("/vc-admin/roles/add",this.state.role).then(function(){if(t.setState({submitEnabled:!0,xhrStatus:"success",errorString:null}),e.props.callback)return e.props.callback(null,e.state)}).fail(function(e){t.setState({submitEnabled:!0,xhrStatus:"error",errorString:e})})})}},{key:"render",value:function(){return r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-8 col-sm-12 col-xs-12"},r.default.createElement("div",{className:"x_panel"},r.default.createElement("div",{className:"x_content"},r.default.createElement("h4",null,"Add a new Role"),r.default.createElement(o.default,{callback:this.check,role:this.state.role}),this.state.submitEnabled?r.default.createElement("button",{onClick:this.submit,className:"btn btn-info",key:"pug:0:0"},"Submit"):r.default.createElement("button",{disabled:!0,className:"btn btn-info",key:"pug:1:0"},"Submit"),"submitting"===this.state.xhrStatus?[r.default.createElement("span",{className:"fa fa-spinner fa-spin",key:"pug:2:0"}),r.default.createElement("span",{key:"pug:2:1"},"  Submitting request ...")]:void 0,"success"===this.state.xhrStatus?r.default.createElement("div",{className:"text-success",key:"pug:4:0"},r.default.createElement("span",null,"Role  ",r.default.createElement("b",null,this.state.role.name)),r.default.createElement("span",null,"  created ok.")):void 0,this.state.errorString?r.default.createElement("div",{className:"text-danger",key:"pug:6:0"},r.default.createElement("span",null,this.state.errorString)):void 0))))}}]),t}();t.default=c},80:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var l=0;l<t.length;l++){var a=t[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,l,a){return l&&e(t.prototype,l),a&&e(t,a),t}}(),r=(u(l(2)),u(l(6))),n=u(l(1)),o=u(l(18)),s=l(7),c=u(l(5)),i=u(l(11));function u(e){return e&&e.__esModule?e:{default:e}}l(25);var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.state={error:null,loadRender:!1,items:[]},l.orgMap={},l.orgList=[],l.update_list=l.update_list.bind(l),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:"componentDidMount",value:function(){this.update_list()}},{key:"createOrgMap",value:function(){if(this.orgList)for(var e=0;e<this.orgList.length;e++)this.orgMap[this.orgList[e]._id]=this.orgList[e]}},{key:"update_list",value:function(){var e=this;c.default.get("/vc-admin/roles/list").then(function(t){e.setState({loadRender:!0,items:t})},function(t){e.setState({loadRender:!0,error:t})})}},{key:"getOrgs",value:function(){var e=this,t=this;c.default.get("/vc-admin/org/list").then(function(l){e.orgList=l,e.createOrgMap();for(var a=t.state.items,r=0;r<a.length;r++){var n=a[r].orgId;a[r].org=e.orgMap[n]||{name:"-not-set-"}}t.setState({items:a})},function(e){t.setState({loadRender:!0,error:e})})}},{key:"render",value:function(){var e=[{Header:"",id:"select",Cell:n.default.createElement("input",{type:"checkbox"}),width:30},{Header:"Name",Cell:function(e){return n.default.createElement(s.Link,{to:"/vc-admin/roles/detail/page/"+e.original._id}," ",e.original.name," ")}},{Header:"Added by",id:"AddedBy",Cell:function(e){return n.default.createElement(i.default,{Id:e.original.createdBy,profile:"User"})}},{Header:"Added on",id:"AddedOn",accessor:function(e){return(0,r.default)(e.createdTs).format("DD MMM YYYY hh:mm a")}}];return n.default.createElement(o.default,{minRows:1,data:this.state.items,columns:e,style:{width:"100%"}})}}]),t}();t.default=d},81:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var l=0;l<t.length;l++){var a=t[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,l,a){return l&&e(t.prototype,l),a&&e(t,a),t}}(),r=u(l(1)),n=l(7),o=u(l(80)),s=u(l(79)),c=u(l(76)),i=u(l(75));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"render",value:function(){return r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},r.default.createElement("div",{className:"x_panel"},r.default.createElement("div",{className:"x_content"},r.default.createElement("span",{className:"fa fa-plus"}," "),r.default.createElement(n.Link,{to:"/vc-admin/roles/add/page"},"Add a new Role"))),r.default.createElement("div",{className:"x_panel"},r.default.createElement("div",{className:"x_content"},r.default.createElement("h4",null,"Roles List"),r.default.createElement(o.default,{style:{width:"100%"}})))))}}]),t}();t.default=function(){return r.default.createElement("main",null,r.default.createElement(n.Switch,null,r.default.createElement(n.Route,{exact:!0,path:"/vc-admin/roles/",component:d}),r.default.createElement(n.Route,{path:"/vc-admin/roles/add/page",component:s.default}),r.default.createElement(n.Route,{path:"/vc-admin/roles/edit/page/:role_id",component:c.default}),r.default.createElement(n.Route,{path:"/vc-admin/roles/detail/page/:role_id",component:i.default})))}},82:function(e,t,l){"use strict";l(2),c(l(21)),c(l(20));var a=c(l(19)),r=c(l(1)),n=l(9),o=l(7),s=c(l(81));function c(e){return e&&e.__esModule?e:{default:e}}l(23),(0,a.default)(function(){(0,n.render)(r.default.createElement(o.BrowserRouter,null,r.default.createElement(s.default,null)),document.getElementById("main"))})}});
//# sourceMappingURL=roles-bundle.js.map